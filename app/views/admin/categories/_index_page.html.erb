<%= form_with url: display_update_admin_categories_path, method: :patch, local: true do |form| %>
  <table class="table text-nowrap table-striped">
    <thead class="table-dark text-white">
      <tr>
        <th scope="col"><%= t('admin.categories.index.name') %></th>
        <th scope="col"><%= t('admin.categories.index.price') %></th>
        <th scope="col"><%= t('admin.categories.index.display') %></th>
        <th scope="col"><%= t('admin.categories.index.created_at') %></th>
        <th scope="col"></th>
        <th colspan="3" scope="col"></th>
      </tr>
    </thead>

    <tbody>
      <% @categories.each do |category| %>
        <tr>
          <td><%= category.name %></td>
          <td><%= category.price %></td>
          <td>
            <%= check_box_tag "category_ids[]", category.id, category.display, id: "category_id_#{category.id}", class: "form-check-input" %>
          </td>
          <td><%= l category.created_at %></td>
          <td><%= link_to "削除", admin_category_path(category), method: :delete, data: {confirm: "本当に削除しますか？"}, class: "danger-link" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="row">
    <div class="col-auto">
      <%= submit_tag "更新する", id: "update-categories", class: "btn btn-outline-custom-opposite" %>
    </div>
    <div class="col-auto">
      <%= paginate @categories, remote: true, theme: "bootstrap-5" %>
    </div>
  </div>
<% end %>

